---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
---

<Layout>

  <!-- HEADER -->
  <Header />

  <!-- CARTEL MARQUESINA -->
  <div class="top-banner">
    <div class="banner-track">
      <span>
        LA LAURI STUDIO ‚Äî PHOTOGRAPHY ‚Äî ART DIRECTION ‚Äî CREATIVE STUDIO ‚Äî
      </span>
      <span>
        LA LAURI STUDIO ‚Äî PHOTOGRAPHY ‚Äî ART DIRECTION ‚Äî CREATIVE STUDIO ‚Äî
      </span>
    </div>
  </div>

  <!-- HERO GRID -->
  <section class="hero-grid">
    <!-- IZQUIERDA -->
    <div class="hero-left project-container">
      <img src="/images/fondo1.jpg" alt="Fondo 1" />
      <span class="project-label">PROYECTO 1</span>
    </div>

    <!-- DERECHA -->
    <div class="hero-right">
      <div class="hero-top project-container">
        <img src="/images/fondo2.jpg" alt="Fondo 2" />
        <span class="project-label">PROYECTO 2</span>
      </div>
      <div class="hero-bottom project-container">
        <img src="/images/hero.jpg" alt="Hero image" />
        <span class="project-label">PROYECTO 3</span>
      </div>
    </div>
  </section>


  <!-- CONTENIDO -->
  <main>
    <section class="intro">
      <p>
        Visual storyteller focused on photography,
        art direction and editorial aesthetics.
      </p>
      <a href="/sobremi" class="sobremi-link">ABOUT ME</a>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <h2 class="contact-trigger">Contacto</h2>
    <!-- ICONOS SOCIALES EN FOOTER -->
  <div class="footer-social">
    <a href="https://www.instagram.com/lalaulozanoo" target="_blank">
      <img src="/src/assets/svg/instagram.svg.svg" alt="Instagram" />
    </a>
    <a href="https://www.linkedin.com" target="_blank">
      <img src="/src/assets/svg/linkedin.svg.svg" alt="LinkedIn" />
    </a>
  </div>
    <p>¬© 2026 La Lauri</p>
    <p>
      <a href="mailto:lauralozano992@gmail.com" class="footer-email">
        lauralozano992@gmail.com
      </a>
    </p>
  </footer>

  <!-- MODAL DE PROYECTO -->
  <div id="project-modal" class="project-modal">
    <div class="modal-bg"></div>  <!-- imagen de fondo -->
    <img class="modal-zoom-img" src="" alt="Proyecto" /> <!-- imagen con zoom -->
    <h2 class="modal-title"></h2> <!-- t√≠tulo que aparece letra por letra -->
    <span class="modal-close">&times;</span> <!-- bot√≥n cerrar -->
  </div>

</Layout>
<style>
/* RESET */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* TIPOGRAF√çA GLOBAL */
body {
  opacity: 0;
  animation: fadeIn 0.6s ease forwards;
  background-color: white;
  font-family: 'Helvetica Neue', Arial, sans-serif; /* üëà cambia si usas otra fuente */
}
@keyframes fadeIn { to { opacity: 1; } }

/* HEADER */
#main-header {
  position: fixed;
  top: 0;
  width: 100%;
  padding: 1.5rem 3rem;
  z-index: 20;
  transition: background 0.4s ease;
}
#main-header nav {
  display: flex;
  gap: 2rem;
}

/* HERO GRID */
.hero-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  margin-top: 140px;
  height: auto;
}
.hero-left, .hero-right { height: auto; }
.project-container {
  position: relative;
  overflow: hidden;
  cursor: pointer;
}
.project-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}
.project-container:hover img {
  transform: scale(1.05);
  border-radius: 1rem;
}
.project-label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  font-size: 2rem;
  text-transform: uppercase;
  transition: all 0.3s ease;
  pointer-events: none;
  font-family: inherit; /* üî• heredamos la fuente global */
}
.project-container:hover .project-label {
  transform: translate(-50%, -50%) scale(2.5);
  border-radius: 1rem;
  background: rgba(0,0,0,0.5);
}

/* MODAL */
.project-modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: none;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  z-index: 9999;
  background: rgba(0,0,0,0.7);
}
.project-modal .modal-bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  filter: brightness(0.5);
  z-index: 1;
}
.modal-zoom-img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  object-fit: cover;
  z-index: 2;
  animation: zoomPulseFast 0.8s infinite;
}
@keyframes zoomPulseFast {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.3); }
}
.modal-title {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  color: white;
  font-size: 2.5rem;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  z-index: 3;
  white-space: nowrap;
  font-family: inherit; /* üî• fuente igual que escritorio */
}
.modal-close {
  position: absolute;
  top: 2rem;
  right: 2rem;
  font-size: 5rem;
  font-weight: bold;
  color: #070707;
  cursor: pointer;
  transition: transform 0.3s ease, color 0.3s ease;
  z-index: 3;
}
.modal-close:hover {
  transform: scale(2.5);
  color: #f66489;
}

/* BANNER */
.top-banner {
  position: relative;
  top: 80px;
  width: 100%;
  background: white;
  overflow: hidden;
  z-index: 15;
  border-top: 1px solid black;
  border-bottom: 1px solid black;
}
.top-banner .banner-track {
  display: flex;
  width: max-content;
  animation: scrollBanner 25s linear infinite;
}
.top-banner .banner-track span {
  white-space: nowrap;
  padding: 0.7rem 3rem;
  font-size: 2.5rem;
  letter-spacing: 0.5em;
  text-transform: uppercase;
  font-family: inherit;
}
@keyframes scrollBanner { from { transform: translateX(0); } to { transform: translateX(-50%); } }

/* INTRO */
.intro {
  max-width: 600px;
  margin: 8rem auto;
  padding: 0 2rem;
  font-size: 1.2rem;
  line-height: 1.6;
  text-align: center;
  font-family: inherit;
}
.intro a {
  text-decoration: none;
  color: rgb(129, 125, 125);
  font-size: 2.4rem;
  transition: transform 0.3s ease;
  display: inline-block;
  font-family: inherit;
}
.intro a:hover { transform: scale(1.2); }

/* FOOTER */
.site-footer {
  padding: 4rem 2rem;
  text-align: center;
  font-family: inherit;
}
.footer-email {
  color: rgb(129, 125, 125);
  text-decoration: none;
  display: inline-block;
  transition: color 0.3s ease, transform 0.3s ease;
  font-family: inherit;
}
.footer-email:hover {
  color: #ec0b52;
  transform: scale(1.1);
}

/* SOCIAL */
#social-icons {
  position: fixed;
  right: 2rem;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 1rem;
}
#social-icons img {
  width: 30px;
  opacity: 0.7;
}
#social-icons img:hover {
  transform: scale(1.2);
  filter: brightness(0) saturate(100%) invert(44%) sepia(99%) saturate(4106%) hue-rotate(317deg) brightness(100%) contrast(97%);
  opacity: 1;
}
.footer-social {
  margin-top: 2rem;
  display: flex;
  justify-content: center;
  gap: 2rem;
}
.footer-social img {
  width: 30px;
  opacity: 0.7;
  transition: transform 0.3s ease, opacity 0.3s ease, filter 0.3s ease;
}
.footer-social img:hover {
  transform: scale(1.2);
  opacity: 1;
  filter: brightness(0) saturate(100%) invert(44%) sepia(99%) saturate(4106%) hue-rotate(317deg) brightness(100%) contrast(97%);
}

/* RESPONSIVE M√ìVIL */
@media (max-width: 768px) {

  .hero-grid { 
    grid-template-columns: 1fr; 
    margin-top: 120px; 
  }

  .hero-left, .hero-right { height: auto; }

  .hero-right .hero-top, .hero-right .hero-bottom { margin-top: 1rem; }

  .intro { margin: 4rem auto; padding: 0 1rem; font-size: 1rem; }

  .top-banner .banner-track span { font-size: 1.5rem; padding: 0.5rem 1rem; }

  /* ETIQUETAS PROYECTOS EN M√ìVIL */
  .project-label {
    font-size: 1.6rem;
    white-space: nowrap;            /* todo en una fila */
    background: rgba(0,0,0,0.55);  /* sombreado */
    padding: 0.6rem 1.2rem;
    border-radius: 0.8rem;
    animation: pulseProjectMobile 1.8s infinite ease-in-out;
    font-family: inherit;           /* üî• igual que escritorio */
  }

  @keyframes pulseProjectMobile {
    0% { transform: translate(-50%, -50%) scale(1); }
    50% { transform: translate(-50%, -50%) scale(1.15); }
    100% { transform: translate(-50%, -50%) scale(1); }
  }

  .project-modal.active .modal-close {
    animation: pulseCloseMobile 1.2s infinite ease-in-out;
  }

  @keyframes pulseCloseMobile {
    0% { transform: scale(1); color: #070707; }
    50% { transform: scale(1.8); color: #ec0b52; }
    100% { transform: scale(1); color: #070707; }
  }

}
</style>


<script>
/* HEADER SCROLL */
const header = document.getElementById("main-header");

window.addEventListener("scroll", () => {
  if (window.scrollY > window.innerHeight * 0.6) {
    header.classList.add("scrolled");
  } else {
    header.classList.remove("scrolled");
  }
});

/* MODAL PROYECTOS */
const projectContainers = document.querySelectorAll('.project-container');
const modal = document.getElementById('project-modal');
const modalImg = modal.querySelector('.modal-zoom-img');
const modalBg = modal.querySelector('.modal-bg');
const modalTitle = modal.querySelector('.modal-title');
const modalClose = modal.querySelector('.modal-close');

let typingInterval = null;
let isModalOpen = false;   // üî• controlamos si ya est√° abierto
let isTyping = false;      // üî• controlamos si est√° escribiendo

projectContainers.forEach(container => {
  container.addEventListener('click', () => {

    // üî• Si ya est√° abierto o escribiendo, no hacemos nada
    if (isModalOpen || isTyping) return;

    isModalOpen = true;

    const imgSrc = container.querySelector('img').src;
    const title = container.querySelector('.project-label').textContent.toUpperCase();

    modal.style.display = 'flex';
    modal.classList.add('active');

    modalImg.src = imgSrc;
    modalBg.style.backgroundImage = `url(${imgSrc})`;

    // Limpiar intervalo anterior si existiera
    if (typingInterval) clearInterval(typingInterval);

    modalTitle.textContent = '';
    let index = 0;
    isTyping = true;

    typingInterval = setInterval(() => {
      if (index < title.length) {
        modalTitle.textContent += title[index];
        index++;
      } else {
        clearInterval(typingInterval);
        isTyping = false;
      }
    }, 100);
  });
});

/* CERRAR MODAL */
function closeModal() {
  modal.style.display = 'none';
  modal.classList.remove('active');
  modalTitle.textContent = '';

  if (typingInterval) clearInterval(typingInterval);

  isModalOpen = false;
  isTyping = false;
}

modalClose.addEventListener('click', closeModal);

modal.addEventListener('click', (e) => {
  if (e.target === modal) {
    closeModal();
  }
});
</script>


